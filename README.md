<p align="right">
<a href="https://github.com/psf/black"><img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg"></a>
</p>

# I'm sick of skimming over titles

[Real Python][rp] has some excellent articles about the Python language and
popular Python packages. But, if you're not searching for a particular topic
(i.e., you're just reading for fun), browsing for new articles can be a bit tedious.

Article titles usually only give you a hint into their content. When you're
staring a wall of titles in the face, it's not always easy to tell which ones
will be worth the click. Frequently, however, an article will catch (or fail to
catch) your attention from the introduction alone.

Wouldn't it be nice if I could just skim over the introductions?

## Fetch introductions for all [Real Python][rp] articles

This script depends on
* `requests`,
* `beautifulsoup4`,
* `html5lib`,
* `html2markdown`, and
* `requests-cache`,
all of which can be installed via `pip`.

If you would like use this script, then clone the repo and run the following:

```bash
python fetch.py
```

*__Note:__* The script will take a few minutes to run and will produce lots of
output. Once it's done, files can be found in the `generated_markdown` subdirectory.
A large file (~31 MiB) called `requests_cache.sqlite` will also be created. This
file stores all previously fetched articles, allowing you to resume or rerun the
script without bombarding the Real Python website with hundreds of prior requests.

An example markdown file generated by this script can be found [here][example-md].

## Customizing output using the Summarizer API

The following is an [example script][test-script] demonstrating how tutorials
can be filtered and sorted.

```python
import os
from operator import attrgetter

# Local imports
from summarizer import Summarizer

if __name__ == "__main__":

    s = Summarizer(
        selected_topics=["advanced"],
        include_premium=False,
        output_dir="advanced_tutorials",
    )

    for topic in s.topics:
        filename = f"{topic.name} tutorials.md"
        path = os.path.join(s.output_dir, filename)

        tutorials = sorted(
            (t for t in topic.tutorials if t.has_comments),  # Filter tutorials
            key=attrgetter("comments.count"),  # Sort by # comments
            reverse=True,
        )

        # Check that we've found tutorials matching our criteria
        assert len(tutorials) > 0

        print(f"\nWriting file `{path}`\n")

        with open(path, "w") as f:
            f.write(f"# {topic.name} tutorials from Real Python" + "\n\n")
            for tutorial in tutorials:
                f.write(tutorial.markdown_title + "\n\n")
                if tutorial.has_metadata_string:
                    f.write(tutorial.markdown_metadata_string + "\n\n")
                f.write(tutorial.markdown_introduction + "\n\n")

```

## Future tasks

- [X] Add support for fetching a particular topic.

- [X] Fetch author name, publication date, and number of comments, if available

- [X] Allow sorting of tutorials by level of engagement (e.g., number of comments)

- [ ] Convert all markdown links to reference style

- [ ] Allow option to include Table of Contents for each article

- [ ] Accept a list of topic strings as command line arguments.

- [ ] Implement output formats other than markdown

[rp]: https://realpython.com
[topics]: https://realpython.com/tutorials/all/
[example-md]: examples/docker%20tutorials%20and%20courses.md
[test-script]: test_summarizer.py
